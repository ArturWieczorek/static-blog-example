<!DOCTYPE html>
<html lang="en-US">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width" />
      <title>StaTic Blog | About
      </title>
      <meta name="description" content="Download free amazing responsive StaTic Blog template."/>
      <meta name="keywords" content="free, responsive, blog"/>
      <link rel="stylesheet" href="css/components.css">
      <link rel="stylesheet" href="css/responsee.css">
      <link rel="stylesheet" href="css/pagination.css">
      <!-- CUSTOM STYLE -->
      <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
      <link rel="stylesheet" href="css/template-style.css">
      <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
      <script type="text/javascript" src="js/jquery-ui.min.js"></script>
      <script type="text/javascript" src="js/modernizr.js"></script>
      <script type="text/javascript" src="js/responsee.js"></script>
      <script src="https://unpkg.com/lunr/lunr.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://pagination.js.org/dist/2.1.5/pagination.min.js"></script>
      <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
   </head>
   <body class="size-1140">
      <!-- TOP NAV WITH LOGO -->
      <header class="margin-bottom">
         <div class="line">
            <nav>
               <div class="top-nav">
                  <p class="nav-text"></p>
                  <a class="logo" href="index.html">
                    StaTic<span>Blog</span>
                    </a>
                    <h1>Static HTML blog template with local JSON database</h1>
                    <ul class="top-ul right">
                     <li>
                        <a href="index.html">Blog</a>
                     </li>
                     <li>
                        <a href="about.html">About</a>
                     </li>
                     <li>
                        <a href="archive.html">Archive</a>
                     </li>
                     <li>
                        <a href="search.html">Search</a>
                     </li>
                  </ul>
               </div>
            </nav>
         </div>
      </header>
      <!-- MAIN SECTION -->
      <section id="article-section" class="line">
         <div class="margin">
            <!-- ARTICLES -->
            <div class="s-12 l-9">
               <!-- ARTICLE 1 -->
               <article class="margin-bottom">
                  <!-- text -->
                  <div class="post-text">
                     <h1>About</h1>
                     <img src="img/about/hatter.jpg" alt="Man In Hat">
                     <p>
                        Hi, I am Art and I wanted to make a simple web blog template using HTML, CSS and JavaScript on the browser side
                        without using any server side programming (like PHP, node.js or Python), no hosting and
                        no database.

                        This assumes one knows some Javascript, AJAX and can use JQuery.
                        This website uses static text files for content.

                        The most important features that needed to be added (as they won't be provided out of the box like in popular
                        blogging platforms and tools) are:

                     </p>
                     </br>
                      <p>
                        - pagination </br>
                        - search for posts </br>
                     </p>

                     <br>
                     <blockquote>
                       Store your blog article body content in text files using HTML. One for each article.
                     </br>
                      Post metadata is stored in local file database. I would recommend a JSON data format.
                     </blockquote>
                     <br>
                       <p>
                       Create list of objects in <b>blog_database.json</b> that represent blog posts where each
                       object contains information about post title, short summary and link to full article,
                       link to thumbnail image, date, author and other information that you would like to
                       include there e.g. catgegories, tags ...
                       </p>
                       <br>
                       <p>
                       Effectively the file serves as a database.
                      </p>

                       <p>
                        By acessing post objects you can retrieve articles data from the list for the
                       initial display. I used jQuery and pagination libraries for generating blog posts based on
                       posts objects data and Lunr.js for searching posts. Use popular browser tools to inspect
                       page code, files and console outputs.
                      </br></br>
                       Website can be hosted for free using GitHub Pages functionality.
                       Performance probably could be an issue with big objects full of data which will result in large local database file.
                       Otherwise it should be rather OK-ish.
                       </br></br>
                       I am not a front end developer and this was done as a fun project on the weekend.
                       Blog pages have the feature of navigation links to previous and next articles - this can also be implemented if needed.
                       </br></br>
                       My main goal was to add searching, pagination and displaying posts list and this is done.
                       Another step could be writing a parser in Python (or other programming language) that will
                       generate "database" file with JSON structure for all pages, articles based on directory contents.
                       This might be an interesting small project and when putting more effort into it we could end up
                       with a simple tool for creating static blog pages.
                     </br>
                     </p>
                  </div>
               </article>
            </div>
            <!-- SIDEBAR -->
            <div class="s-12 l-3">
               <aside>
                  <!-- LATEST POSTS -->
                  <div id="content" class="aside-block margin-bottom">
                    <div id="elements" class="data-container">
                  </div>
               </aside>
            </div>
         </div>
      </section>
      <!-- FOOTER -->
      <div class="line">
        <footer>
          <div>
             <div class="logo">
               StaTic<span>Blog</span>
             </div>
             Content stored in local JSON database & client side search with Lunr.js
          </div>
        </footer>
      </div>
   </body>
</html>

<script type="text/javascript" src="blog_database.json"></script>
<script>
const blogPosts = JSON.parse(data);
console.log('Blog entries from json database: ', blogPosts);
console.log('Blog entries: ', blogPosts.length);


let html = '<h3>Latest posts</h3>';
let dataContainer = $('.data-container');
$(document).ready(function(){
  for (i = blogPosts.length; i > 2; i--){
    html += '<a class="latest-posts" href="post-' + i + '.html">';
    html += '<h5>' + blogPosts[i-1].title + '</h5>';
    html += '<p>' + blogPosts[i-1].preview + '</p>';
    html += '</a>';
  }
  dataContainer.html(html);
});
</script>
